---
phase: 06-refinement
plan: 02
type: execute
wave: 2
depends_on: ["06-01"]
files_modified:
  - components/ChatPanel.tsx
  - components/ExploreDashboard.tsx
  - components/DrillingGrid.tsx
  - components/MotherlodeOverlay.tsx
autonomous: true
must_haves:
  truths:
    - "Empty states handled (chat, rounds feed)"
    - "Loading states are clear"
    - "Error states give feedback (e.g. chat disconnected)"
    - "Performance is smooth"
  artifacts: []
  key_links: []
---

<objective>
Handle edge cases: empty states, loading, errors. Ensure performance is smooth.

Purpose: LAYOUT-04 (edge cases), polish.
Output: Empty/loading/error states, performance checks.
</objective>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md

ChatPanel has "No messages yet" and "Connecting…" and "Could not connect". ExploreDashboard has data; empty rounds would need handling if data were dynamic. DrillingGrid has "Preparing field…" loading. MotherlodeOverlay may need overflow/scroll handling on small screens.
</context>

<tasks>

<task type="auto">
  <name>Task 1: Empty states audit</name>
  <files>components/ChatPanel.tsx, components/ExploreDashboard.tsx</files>
  <action>
    Audit empty states. ChatPanel: "No messages yet" exists. ExploreDashboard: recentRounds and leaderboards always have mocked data; if we ever had empty arrays, add "No rounds yet" / "No leaders yet" placeholders. Add empty-state styling (muted text, centered) where missing.
  </action>
  <verify>Empty states render when data is empty</verify>
  <done>Empty states complete</done>
</task>

<task type="auto">
  <name>Task 2: Loading and error feedback</name>
  <files>components/ChatPanel.tsx, components/DrillingGrid.tsx</files>
  <action>
    ChatPanel: "Connecting…" and "Disconnected" / "Could not connect" already exist. Ensure messaging is clear. DrillingGrid: "Preparing field…" with skeleton exists. If grid fails to load (e.g. error boundary), ensure user sees a message. Add optional error boundary for graceful failure if needed.
  </action>
  <verify>Loading and error states are clear</verify>
  <done>Loading/error feedback complete</done>
</task>

<task type="auto">
  <name>Task 3: Modal and overlay responsiveness</name>
  <files>components/HowItWorksModal.tsx, components/MotherlodeOverlay.tsx</files>
  <action>
    Modals/overlays use fixed positioning. Ensure they fit on narrow screens (max-h, padding, overflow-y-auto). MotherlodeOverlay: content should not overflow. HowItWorksModal: scrollable content area. Test at 375px width.
  </action>
  <verify>Modals usable on mobile</verify>
  <done>Modal responsiveness complete</done>
</task>

<task type="auto">
  <name>Task 4: Performance and final polish</name>
  <files>Various</files>
  <action>
    Run Lighthouse or quick audit: (a) no layout shift (CLS), (b) tap targets adequate, (c) animations don't block. Ensure DrillTile flip and MotherlodeOverlay use GPU-accelerated transforms (transform, opacity). Add will-change sparingly if jank observed. Remove any console.log. Ensure no obvious memory leaks (e.g. socket cleanup on unmount).
  </action>
  <verify>App feels smooth; no obvious performance issues</verify>
  <done>Performance polish complete</done>
</task>

</tasks>

<verification>
- [ ] npm run build succeeds
- [ ] Empty states present
- [ ] Modals work on mobile
- [ ] No console errors in normal use
</verification>

<success_criteria>
- Edge cases handled
- Performance smooth
</success_criteria>

<output>
After completion, create .planning/phases/06-refinement/06-02-SUMMARY.md
</output>
